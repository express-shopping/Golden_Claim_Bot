<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Golden City Empire</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --gold: #f1c40f; --dark-bg: #0b0d10; --card: #161a1e; --glass: rgba(255, 255, 255, 0.03); }
        body { background: var(--dark-bg); color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; overflow-x: hidden; user-select: none; }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ */
        .user-header { padding: 15px; display: flex; align-items: center; justify-content: space-between; background: rgba(0,0,0,0.4); border-bottom: 1px solid #222; }
        .user-info { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 42px; height: 42px; border-radius: 10px; background: linear-gradient(45deg, #f1c40f, #d35400); border: 1px solid #444; }
        .power-bar { background: #222; height: 6px; width: 80px; border-radius: 10px; margin-top: 5px; overflow: hidden; }
        .power-fill { background: var(--gold); height: 100%; width: 60%; box-shadow: 0 0 10px var(--gold); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„ØªØ¹Ø¯ÙŠÙ† */
        .main-display { padding: 40px 0; text-align: center; }
        .balance-label { color: #888; font-size: 14px; letter-spacing: 1px; }
        .balance-value { font-size: 52px; font-weight: bold; margin: 5px 0; color: #fff; }
        
        .coin-tap { width: 230px; height: 230px; margin: 20px auto; background: radial-gradient(circle, #f39c12 0%, #d35400 100%); border-radius: 50%; border: 10px solid rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; font-size: 90px; cursor: pointer; transition: transform 0.1s; box-shadow: 0 0 50px rgba(211, 84, 0, 0.4); position: relative; }
        .coin-tap:active { transform: scale(0.92); }

        /* Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ */
        #daily-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 9999; align-items: center; justify-content: center; }
        .modal-content { background: var(--card); padding: 30px; border-radius: 25px; width: 80%; border: 1px solid var(--gold); text-align: center; }
        .day-box { background: #222; padding: 15px; border-radius: 15px; margin: 10px 0; border: 1px solid #333; color: var(--gold); font-weight: bold; }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ */
        .section-title { padding: 0 20px; font-size: 18px; display: flex; justify-content: space-between; align-items: center; }
        .building-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 20px; margin-bottom: 100px; }
        .card { background: var(--card); border-radius: 20px; padding: 15px; border: 1px solid #222; transition: 0.3s; }
        .card:hover { border-color: var(--gold); }
        .card b { display: block; margin-bottom: 5px; font-size: 14px; }
        .card span { font-size: 12px; color: #f1c40f; display: block; margin-bottom: 10px; }
        .action-btn { background: var(--gold); color: #000; border: none; width: 100%; padding: 10px; border-radius: 12px; font-weight: bold; cursor: pointer; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ */
        .nav-bar { position: fixed; bottom: 0; width: 100%; display: grid; grid-template-columns: repeat(4, 1fr); background: #000; padding: 18px 0; border-top: 1px solid #222; }
        .nav-btn { text-align: center; color: #555; font-size: 11px; cursor: pointer; }
        .nav-btn.active { color: var(--gold); }
        .nav-btn i { font-size: 22px; display: block; margin-bottom: 4px; }
    </style>
</head>
<body>

    <div id="daily-modal">
        <div class="modal-content">
            <h2 style="margin:0">Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…! ğŸ</h2>
            <p style="color:#888">Ø¹Ø¯ ØºØ¯Ø§Ù‹ Ù„Ù…ÙƒØ§ÙØ£Ø© Ø£ÙƒØ¨Ø±</p>
            <div class="day-box">+1,000 Golden Token</div>
            <button class="action-btn" onclick="claimDaily()">Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¢Ù†</button>
        </div>
    </div>

    <div class="user-header">
        <div class="user-info">
            <div class="avatar"></div>
            <div>
                <b>MUGAHED-54</b>
                <div class="power-bar"><div class="power-fill"></div></div>
            </div>
        </div>
        <div style="text-align: left;"><span style="color:#888; font-size:10px;">LEVEL</span><br><b style="color:var(--gold)">BIG BOSS</b></div>
    </div>

    <div id="p-home">
        <div class="main-display">
            <div class="balance-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</div>
            <div class="balance-value" id="bal">0.00</div>
            <div class="coin-tap" onclick="tap(event)">ğŸª™</div>
            <div style="color:#888">Ø§Ù„Ø±Ø¨Ø­ Ø¨Ø§Ù„Ø³Ø§Ø¹Ø©: <span style="color:var(--gold)" id="inc">+0</span></div>
        </div>

        <div class="section-title">
            <span>ØªØ·ÙˆÙŠØ± Ù…Ø¯ÙŠÙ†ØªÙƒ ğŸ—ï¸</span>
            <small style="color:#555; font-size:12px;">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</small>
        </div>

        <div class="building-grid">
            <div class="card">
                <b>ğŸ  Ù…Ø¬Ù…Ø¹ Ø³ÙƒÙ†ÙŠ</b>
                <span>+50/Ø³Ø§Ø¹Ø©</span>
                <button class="action-btn" onclick="buy(1000, 50)">ØªØ·ÙˆÙŠØ± (1000)</button>
            </div>
            <div class="card">
                <b>ğŸ¢ Ø¨Ø±Ø¬ ØªØ¬Ø§Ø±ÙŠ</b>
                <span>+250/Ø³Ø§Ø¹Ø©</span>
                <button class="action-btn" onclick="buy(5000, 250)">ØªØ·ÙˆÙŠØ± (5000)</button>
            </div>
        </div>
    </div>

    <div id="p-wallet" style="display:none; padding:30px;">
        <div style="background:linear-gradient(135deg, #1e2228, #000); padding:40px; border-radius:30px; border:1px solid var(--gold); text-align:center;">
            <div style="color:#888">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø³Ø­Ø¨</div>
            <div style="font-size:40px; margin:15px 0; font-weight:bold;">$0.00</div>
            <button style="background:transparent; color:var(--gold); border:1px solid var(--gold); padding:12px 25px; border-radius:15px;">Ø±Ø¨Ø· Ø§Ù„Ù…Ø­ÙØ¸Ø© (Ù‚Ø±ÙŠØ¨Ø§Ù‹)</button>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-btn active" onclick="nav('p-home', this)"><i>ğŸ™ï¸</i>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</div>
        <div class="nav-btn" onclick="nav('p-tasks', this)"><i>ğŸ“‹</i>Ø§Ù„Ù…Ù‡Ø§Ù…</div>
        <div class="nav-btn" onclick="nav('p-frens', this)"><i>ğŸ‘¥</i>Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</div>
        <div class="nav-btn" onclick="nav('p-wallet', this)"><i>ğŸ’³</i>Ø§Ù„Ù…Ø­ÙØ¸Ø©</div>
    </nav>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let bal = parseFloat(localStorage.getItem('g_bal')) || 0;
        let inc = parseFloat(localStorage.getItem('g_inc')) || 0;
        let lastDaily = localStorage.getItem('g_last_daily');

        function updateUI() {
            document.getElementById('bal').innerText = bal.toLocaleString(undefined, {minimumFractionDigits: 2});
            document.getElementById('inc').innerText = "+" + inc.toLocaleString();
            localStorage.setItem('g_bal', bal);
            localStorage.setItem('g_inc', inc);
        }

        // ÙØ­Øµ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
        window.onload = () => {
            let today = new Date().toDateString();
            if(lastDaily !== today) {
                document.getElementById('daily-modal').style.display = 'flex';
            }
            updateUI();
        }

        function claimDaily() {
            bal += 1000;
            localStorage.setItem('g_last_daily', new Date().toDateString());
            document.getElementById('daily-modal').style.display = 'none';
            tg.showAlert("Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ø³ØªÙ„Ù…Øª 1,000 Ø¹Ù…Ù„Ø© Ù‡Ø¯ÙŠØ© Ø§Ù„ÙŠÙˆÙ…! ğŸ");
            updateUI();
        }

        function tap(e) {
            bal += 1;
            tg.HapticFeedback.impactOccurred('medium');
            updateUI();
            createFloatText(e.clientX, e.clientY, "+1");
        }

        function buy(cost, earn) {
            if(bal >= cost) {
                bal -= cost;
                inc += earn;
                updateUI();
                tg.showAlert("ØªÙ… ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø¨Ù†Ù‰! Ø²Ø§Ø¯Øª Ø£Ø±Ø¨Ø§Ø­Ùƒ Ø¨Ø§Ù„Ø³Ø§Ø¹Ø© ğŸš€");
            } else {
                tg.showAlert("Ø¹Ø°Ø±Ø§Ù‹ØŒ ØªØ­ØªØ§Ø¬ Ø±ØµÙŠØ¯ Ø£ÙƒØ«Ø±!");
            }
        }

        function nav(id, el) {
            document.getElementById('p-home').style.display = (id === 'p-home') ? 'block' : 'none';
            document.getElementById('p-wallet').style.display = (id === 'p-wallet') ? 'block' : 'none';
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
        }

        function createFloatText(x, y, txt) {
            let d = document.createElement('div');
            d.innerHTML = txt;
            d.style.cssText = `position:fixed; left:${x}px; top:${y}px; color:var(--gold); font-weight:bold; pointer-events:none; animation: up 0.8s forwards;`;
            document.body.appendChild(d);
            setTimeout(() => d.remove(), 800);
        }

        setInterval(() => { bal += (inc / 3600); updateUI(); }, 1000);
    </script>
    <style> @keyframes up { to { transform: translateY(-80px); opacity: 0; } } </style>
</body>
</html>

